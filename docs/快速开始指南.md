# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

### Linux / macOS ç”¨æˆ·

```bash
./start.sh
```

å°±æ˜¯è¿™ä¹ˆç®€å•ï¼è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ‰€æœ‰å‡†å¤‡å·¥ä½œï¼š

### âœ… è‡ªåŠ¨åŒ–åŠŸèƒ½æ¸…å•

1. **æ£€æµ‹å¹¶å®‰è£… uv**
   - å¦‚æœæœªå®‰è£…ï¼Œè‡ªåŠ¨ä¸‹è½½å®‰è£…
   - é…ç½®ç¯å¢ƒå˜é‡

2. **æ£€æµ‹å¹¶å®‰è£… Node.js / npm**
   - æ£€æµ‹ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼ˆNode >= 16ï¼‰
   - macOSï¼šä½¿ç”¨ Homebrew å®‰è£…
   - Linuxï¼šä½¿ç”¨ apt å®‰è£…

3. **åˆ›å»ºç›®å½•ç»“æ„**
   - è‡ªåŠ¨åˆ›å»º logsã€dataã€configs ç­‰å¿…è¦ç›®å½•

4. **é…ç½®æ–‡ä»¶æ£€æŸ¥**
   - ä»ç¤ºä¾‹æ–‡ä»¶å¤åˆ¶é…ç½®æ¨¡æ¿ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

5. **Python è™šæ‹Ÿç¯å¢ƒ**
   - ä½¿ç”¨ uv åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒ
   - è‡ªåŠ¨ä¿®å¤æŸåçš„è™šæ‹Ÿç¯å¢ƒ

6. **å®‰è£… Python ä¾èµ–**
   - è‡ªåŠ¨å®‰è£… requirements.txt ä¸­çš„æ‰€æœ‰ä¾èµ–

7. **Playwright æµè§ˆå™¨**
   - è‡ªåŠ¨å®‰è£… Playwright å’Œ Chromium æµè§ˆå™¨
   - åœ¨ Linux ä¸Šè‡ªåŠ¨å®‰è£…ç³»ç»Ÿä¾èµ–

8. **å‰ç«¯ä¾èµ–**
   - è‡ªåŠ¨æ‰§è¡Œ npm install
   - æ™ºèƒ½æ£€æµ‹ä¾èµ–æ˜¯å¦éœ€è¦æ›´æ–°

9. **æ•°æ®åº“åˆå§‹åŒ–**
   - è‡ªåŠ¨åˆ›å»ºæ‰€æœ‰æ•°æ®è¡¨
   - åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

10. **å¯åŠ¨æœåŠ¡**
    - åç«¯ API æœåŠ¡ï¼ˆç«¯å£ 5001ï¼‰
    - å‰ç«¯ç•Œé¢ï¼ˆè‡ªåŠ¨åˆ†é…ç«¯å£ï¼‰

## ğŸ“‹ é¦–æ¬¡ä½¿ç”¨æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd noval
```

### 2. é…ç½®æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ éœ€è¦ä½¿ç”¨ MySQL æ•°æ®åº“ï¼š

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp shared/utils/config.example.py shared/utils/config.py

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim shared/utils/config.py
```

ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
```python
DB_CONFIG = {
    'host': 'localhost',
    'port': 3306,
    'user': 'your_user',
    'password': 'your_password',
    'database': 'novel_db'
}
```

### 3. ä¸€é”®å¯åŠ¨

```bash
./start.sh
```

é¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦ 5-10 åˆ†é’Ÿï¼Œå› ä¸ºéœ€è¦ä¸‹è½½å’Œå®‰è£…æ‰€æœ‰ä¾èµ–ã€‚

### 4. è®¿é—®ç³»ç»Ÿ

å¯åŠ¨å®Œæˆåï¼Œç»ˆç«¯ä¼šæ˜¾ç¤ºè®¿é—®åœ°å€ï¼š

```
ğŸ“‹ è®¿é—®åœ°å€ï¼š
   å‰ç«¯ç•Œé¢: http://localhost:3000
   åç«¯API:  http://localhost:5001

ğŸ§ª åŠŸèƒ½é¡µé¢ï¼š
   é…ç½®å‘å¯¼: http://localhost:3000/
   çˆ¬è™«ç®¡ç†: http://localhost:3000/crawler
   å°è¯´é˜…è¯»: http://localhost:3000/reader
```

### 5. åœæ­¢æœåŠ¡

```bash
./stop.sh
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. uv å®‰è£…å¤±è´¥

å¦‚æœè‡ªåŠ¨å®‰è£…å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å®‰è£…ï¼š

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
source ~/.bashrc  # æˆ– source ~/.zshrc
```

### 2. Node.js ç‰ˆæœ¬è¿‡ä½

åœ¨ macOS ä¸Šï¼š
```bash
brew install node
```

åœ¨ Linux ä¸Šï¼š
```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

æˆ–ä½¿ç”¨ nvmï¼š
```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 20
nvm use 20
```

### 3. Playwright æµè§ˆå™¨é—®é¢˜

å¦‚æœæµè§ˆå™¨å¯åŠ¨å¤±è´¥ï¼Œæ‰‹åŠ¨è¿è¡Œï¼š

```bash
./install-playwright-server.sh
```

### 4. æ•°æ®åº“è¿æ¥å¤±è´¥

æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
- MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
- é…ç½®æ–‡ä»¶ `shared/utils/config.py` æ˜¯å¦æ­£ç¡®
- æ•°æ®åº“ç”¨æˆ·æƒé™æ˜¯å¦è¶³å¤Ÿ

### 5. ç«¯å£å ç”¨

å¦‚æœç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥ï¼š
- ä¿®æ”¹ `backend/api.py` ä¸­çš„åç«¯ç«¯å£
- Vite å‰ç«¯ä¼šè‡ªåŠ¨é€‰æ‹©å¯ç”¨ç«¯å£

## ğŸ¯ ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux / macOS
- **Python**: 3.8+
- **Node.js**: 16+
- **å†…å­˜**: 2GB+
- **ç£ç›˜**: 1GB+

### æ¨èé…ç½®

- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ / macOS 12+
- **Python**: 3.10+
- **Node.js**: 18+
- **å†…å­˜**: 4GB+
- **ç£ç›˜**: 5GB+

## ğŸ“š ä¸‹ä¸€æ­¥

1. **é˜…è¯»æ–‡æ¡£**
   - [åŠŸèƒ½è¯´æ˜](./åŠŸèƒ½è¯´æ˜.md)
   - [V5 ä½¿ç”¨æŒ‡å—](./V5_ä½¿ç”¨æŒ‡å—.md)
   - [é¡¹ç›®è¯´æ˜](./é¡¹ç›®è¯´æ˜.md)

2. **é…ç½®çˆ¬è™«**
   - ä½¿ç”¨å¯è§†åŒ–å‘å¯¼åˆ›å»ºçˆ¬è™«é…ç½®
   - æˆ–ç¼–è¾‘ `configs/` ç›®å½•ä¸‹çš„ JSON é…ç½®æ–‡ä»¶

3. **å¼€å§‹çˆ¬å–**
   - åœ¨çˆ¬è™«ç®¡ç†é¡µé¢å¯åŠ¨ä»»åŠ¡
   - å®æ—¶æŸ¥çœ‹çˆ¬å–è¿›åº¦

4. **é˜…è¯»å°è¯´**
   - åœ¨å°è¯´é˜…è¯»å™¨ä¸­æµè§ˆå·²çˆ¬å–çš„å†…å®¹
   - è‡ªå®šä¹‰é˜…è¯»ä½“éªŒ

## ğŸ’¡ å¼€å‘æ¨¡å¼

å¦‚æœä½ æƒ³è¿›è¡Œå¼€å‘æˆ–è°ƒè¯•ï¼š

### åˆ†åˆ«å¯åŠ¨æœåŠ¡

```bash
# åç«¯ï¼ˆç»ˆç«¯1ï¼‰
.venv/bin/python backend/api.py

# å‰ç«¯ï¼ˆç»ˆç«¯2ï¼‰
cd frontend
npm run dev
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/backend.log

# å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log
```

### æ¸…ç†ç¯å¢ƒ

```bash
# åˆ é™¤è™šæ‹Ÿç¯å¢ƒ
rm -rf .venv

# åˆ é™¤å‰ç«¯ä¾èµ–
rm -rf frontend/node_modules

# é‡æ–°åˆå§‹åŒ–
./start.sh
```

## ğŸ”§ æ‰‹åŠ¨å®‰è£…ï¼ˆä¸æ¨èï¼‰

å¦‚æœä½ æ›´å–œæ¬¢æ‰‹åŠ¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤ï¼š

```bash
# 1. å®‰è£… uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
uv venv .venv

# 3. å®‰è£… Python ä¾èµ–
uv pip install -r requirements.txt

# 4. å®‰è£… Playwright
.venv/bin/python -m playwright install chromium

# 5. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..

# 6. åˆå§‹åŒ–æ•°æ®åº“
.venv/bin/python scripts/init_reader_tables.py
.venv/bin/python scripts/init_auth_tables.py

# 7. å¯åŠ¨æœåŠ¡
./start.sh
```

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`logs/backend.log` å’Œ `logs/frontend.log`
2. æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼š`shared/utils/config.py`
3. æŸ¥çœ‹æ–‡æ¡£ç›®å½•ï¼š`docs/`
4. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

