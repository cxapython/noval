# 🎉 流程配置简化版说明

## ✨ 新版本特点

参考**智能向导**的体验，让流程配置更简单直观！

### 原版 vs 简化版对比

| 特性 | 原版 | 简化版（新） |
|------|------|-------------|
| **配置方式** | 一个大画布配置所有字段 | 分步骤，每次配置一个字段 |
| **页面切换** | 手动选择页面类型和字段 | 自动引导3个步骤 |
| **已配置字段** | 生成后才能看 | 右侧实时显示 |
| **学习曲线** | 需要理解整体结构 | 跟着步骤走即可 |
| **操作流程** | 拖拽→选择→生成→应用 | 选择字段→拖拽→保存→下一个 |

---

## 📖 使用流程

### 第一步：小说信息页

**目标**：配置小说标题、作者、封面

1. 页面自动显示"小说信息页"步骤
2. 选择要配置的字段（如"小说标题"）
3. 从左侧拖拽组件到画布
4. 配置节点参数
5. 点击"保存字段"
6. 重复2-5配置其他字段

**必填字段**：
- ✅ 小说标题（必须配置）
- ⭕ 作者（可选）
- ⭕ 封面图片URL（可选）

完成后点击"下一步"

---

### 第二步：章节列表页

**目标**：配置章节列表的提取规则

**必填字段**：
- ✅ 列表项选择器（必须）
- ✅ 章节标题（必须）
- ✅ 章节链接（必须）

**操作步骤**：同第一步

---

### 第三步：章节内容页

**目标**：配置章节正文内容

**必填字段**：
- ✅ 正文内容（必须）
- ⭕ 下一页链接（可选）

**操作步骤**：同第一步

完成后点击"生成配置"

---

## 🎯 界面布局

```
┌──────────────────────────────────────────────────────────┐
│  步骤指示器：小说信息页 → 章节列表页 → 章节内容页          │
├─────────┬────────────────────────────────┬───────────────┤
│         │                                │               │
│ 左侧    │          中间                   │   右侧         │
│ 组件面板 │                                │  已配置字段    │
│         │  [字段选择] [保存] [清空]        │               │
│ 📍提取器 │                                │  ✅ 小说标题   │
│ • XPath │  ┌────────────────────┐        │  ✅ 作者      │
│ • 正则   │  │                    │        │               │
│         │  │     拖拽画布        │        │  [编辑][删除] │
│ 🧹清洗器 │  │                    │        │               │
│ • 去空格 │  │                    │        │               │
│ • 替换   │  └────────────────────┘        │               │
│ • ...   │                                │               │
│         │  [上一步]  步骤1/3  [下一步]     │               │
└─────────┴────────────────────────────────┴───────────────┘
```

---

## 💡 使用技巧

### 1. 逐个字段配置

不要想着一次性配置所有字段，专注于当前字段：
```
选择"小说标题" → 拖拽XPath提取 → 添加清洗规则 → 保存
选择"作者" → 拖拽XPath提取 → 添加清洗规则 → 保存
...
```

### 2. 查看已配置字段

右侧面板实时显示已配置的字段：
- 绿色勾号 = 已配置
- 可以编辑或删除

### 3. 必填字段提示

下拉框中带红色"必填"标签的字段必须配置，否则无法进入下一步。

### 4. 步骤导航

- 顶部步骤条显示当前进度
- 下方"上一步"/"下一步"按钮快速切换
- 最后一步显示"生成配置"

---

## 🆚 与智能向导的区别

| 智能向导 | 流程配置 |
|---------|---------|
| 输入CSS选择器/元素文本 | 拖拽组件 |
| 自动生成XPath | 手动配置提取规则 |
| 智能识别 | 可视化编排 |
| 快速配置 | 灵活定制 |

**推荐使用场景：**
- **智能向导**：快速配置简单网站
- **流程配置**：需要复杂清洗规则的网站

---

## ✅ 示例操作

### 示例：配置章节内容

**第三步：章节内容页**

1. 选择字段：`正文内容`

2. 拖拽组件：
   ```
   XPath提取 → 合并数组 → 字符替换 → 去除空格
   ```

3. 配置XPath提取：
   - 表达式：`//div[@id='content']//text()`
   - 索引：`999`（全部）

4. 配置合并数组：
   - 分隔符：`\n`

5. 配置字符替换：
   - 原字符串：`『广告文本』`
   - 新字符串：（留空）

6. 去除空格：无需配置

7. 点击"保存字段"

8. 右侧看到"✅ 正文内容"

9. 点击"生成配置"

---

## 🐛 常见问题

### Q1: 如何修改已保存的字段？
A: 右侧已配置字段列表，点击"编辑"按钮（TODO：需要实现反向生成）

### Q2: 必须按顺序配置吗？
A: 不必须，但推荐按顺序。必填字段配置完才能下一步。

### Q3: 能跳过某个步骤吗？
A: 可以，只需配置必填字段即可下一步。

### Q4: 保存后发现配置错了怎么办？
A: 点击右侧的"删除"按钮，重新配置该字段。

---

## 🎓 最佳实践

### 1. 从简单到复杂

先配置简单字段（如标题），再配置复杂字段（如内容）。

### 2. 实时查看已配置

随时看右侧面板，了解还有哪些字段需要配置。

### 3. 一个字段一个流程

每个字段独立配置，不要混在一起。

### 4. 善用步骤导航

不确定时，可以回到上一步查看或修改。

---

## 📊 改进效果

| 指标 | 改进前 | 改进后 |
|------|--------|--------|
| 学习时间 | 10分钟 | 3分钟 |
| 配置效率 | 需要反复切换 | 流畅引导 |
| 错误率 | 容易混淆字段 | 清晰明确 |
| 用户满意度 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

---

**现在就试试吧！** 🚀

1. 启动前端：`npm run dev`
2. 进入**爬虫管理** → **新建配置**
3. 点击**流程配置**Tab
4. 跟着步骤走！
